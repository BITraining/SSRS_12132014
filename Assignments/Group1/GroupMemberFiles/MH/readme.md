demo2 is modified from liang #3.